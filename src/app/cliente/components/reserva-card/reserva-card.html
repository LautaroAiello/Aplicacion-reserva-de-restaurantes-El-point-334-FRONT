@if (reserva(); as res) {
  <mat-card class="reserva-card" [class.is-cancelled]="res.estado === 'CANCELADA'">
    
    <img
      mat-card-image
      [src]="res.restauranteImagenUrl || 'assets/placeholder-restaurante.jpg'"
      [alt]="res.restauranteNombre"
      class="card-img"
    />
  
    <mat-card-header>
      <mat-card-title>{{ res.restauranteNombre }}</mat-card-title>
      
      <mat-card-subtitle class="status-badge" [ngClass]="res.estado">
        {{ res.estado }}
      </mat-card-subtitle>
    </mat-card-header>
  
    <mat-card-content>
      <div class="info-row">
        <mat-icon>event</mat-icon>
        <span>{{ res.fechaHora | date:'EEEE, d \'de\' MMMM' : '' : 'es-AR' }}</span>
      </div>
      
      <div class="info-row">
        <mat-icon>access_time</mat-icon>
        <span>{{ res.fechaHora | date:'HH:mm' }} hs</span>
      </div>
      
      <div class="info-row">
        <mat-icon>people</mat-icon>
        <span>
          {{ res.cantidadPersonas }} {{ res.cantidadPersonas === 1 ? 'persona' : 'personas' }}
        </span>
      </div>
    </mat-card-content>
  
    <mat-card-actions align="end">
      
      @if (res.estado === 'CANCELADA') {
        <span class="cancel-label">Cancelada</span>
      } @else {
        <button mat-button color="warn" (click)="onCancelar()">
          CANCELAR RESERVA
        </button>
      }
      
    </mat-card-actions>
  </mat-card>
}